!function(e){var t=function(e,t){var o=elementorFrontend.getCurrentDeviceMode(),n="elementor-hidden-"+o;if("mobile"===o&&(n="elementor-hidden-mobile"),!e.closest("section.elementor-element").hasClass(n)){var i=e.find(".dethemekit-vscroll-wrap"),l=i.data("settings");l.deviceType=o,new dethemekitVerticalScroll(i,l).init()}};window.dethemekitVerticalScroll=function(t,o){var n=this,i=e(window),l="desktop"!==elementorFrontend.getCurrentDeviceMode(),r=t,s=t.find(".dethemekit-vscroll-sections-wrap").length,c=e("html, body"),a=e(".dethemekit-vscroll-dot-item",r),d=e(".dethemekit-vscroll-nav-item",r),h=(o=e.extend({},{speed:700,offset:0,fullSection:!0},o),{}),u=null,v=!1,f=!0,m=0,p=0;function k(e){return Object.keys(e)[0]}function g(e){return Object.keys(e)[Object.keys(e).length-1]}function C(){var e=i.scrollTop(),t=k(h),o=h[t].offset,l=e+i.outerHeight(),s=n.visible(r,!0,!1);return!(l>o)&&!!s}function S(){var e=i.scrollTop(),t=g(h),o=h[t].offset+h[t].height,l=n.visible(r,!0,!1);return!(e<o)&&!!l}jQuery.extend(jQuery.easing,{easeInOutCirc:function(e,t,o,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+o:n/2*(Math.sqrt(1-(t-=2)*t)+1)+o}}),n.init=function(){(o.fullTouch||!l&&o.fullSection)&&o.fullCheckOverflow&&n.setSectionsOverflow(),n.setSectionsData(),a.on("click.dethemekitVerticalScroll",n.onNavDotChange),d.on("click.dethemekitVerticalScroll",n.onNavDotChange),a.on("mouseenter.dethemekitVerticalScroll",n.onNavDotEnter),a.on("mouseleave.dethemekitVerticalScroll",n.onNavDotLeave),"desktop"===o.deviceType&&i.on("scroll.dethemekitVerticalScroll",n.onWheel),i.on("resize.dethemekitVerticalScroll orientationchange.dethemekitVerticalScroll",n.debounce(50,n.onResize)),i.on("load",(function(){n.setSectionsData(),(o.fullTouch||!l&&o.fullSection)&&n.sectionsOverflowRefresh(),n.checkCurrentActive()})),n.keyboardHandler(),n.scrollHandler(),o.fullSection&&n.fullSectionHandler(),o.animation&&r.find(".dethemekit-vscroll-dots").removeClass("elementor-invisible").addClass("animated "+o.animation+" animated-"+o.duration)},n.checkCurrentActive=function(){var t=Object.keys(h)[0],o=h[t].offset;o>=i.scrollTop()&&o-i.scrollTop()<200&&(u=1,a.removeClass("active"),e(a[0]).addClass("active")),u&&r.find(".dethemekit-vscroll-dots").removeClass("dethemekit-vscroll-dots-hide")},n.setSectionsOverflow=function(){a.each((function(){var t=e(this).data("menuanchor"),o=e("#"+t),n=o.outerHeight();if(n>i.outerHeight()&&n-i.outerHeight()>=50){o.find(".elementor").first().wrapInner("<div id='scroller-"+t+"'></div>"),e("#scroller-"+t).slimScroll({height:i.outerHeight(),railVisible:!1});var l=new IScroll("#scroller-"+t,{mouseWheel:!0,scrollbars:!0,hideScrollbars:!0,fadeScrollbars:!1,disableMouse:!0,interactiveScrollbars:!1});e("#scroller-"+t).data("iscrollInstance",l),setTimeout((function(){l.refresh()}),1500)}}))},n.sectionsOverflowRefresh=function(){a.each((function(){var t=e(this).data("menuanchor"),o=e("#scroller-"+t).data("iscrollInstance");o&&o.refresh()}))},n.setSectionsData=function(){a.each((function(){var t=e(this).data("menuanchor"),o=e("#"+t),n=o.outerHeight();o[0]&&(h[t]={selector:o,offset:Math.round(o.offset().top),height:n})}))},n.fullSectionHandler=function(){var e=document.getElementById(r.attr("id"));l&&o.fullTouch?(document.addEventListener("touchstart",n.onTouchStart),document.addEventListener("touchmove",n.onTouchMove,{passive:!1})):s?document.addEventListener?e.addEventListener("wheel",n.onWheel,{passive:!1}):e.attachEvent("onmousewheel",n.onWheel):document.addEventListener?document.addEventListener("wheel",n.onWheel,{passive:!1}):document.attachEvent("onmousewheel",n.onWheel)},n.scrollHandler=function(){for(var t in h){h[t].selector;var o=e(this).attr("id");v||(u=o,a.removeClass("active"),d.removeClass("active"),e("[data-menuanchor="+o+"]",r).addClass("active"))}},n.keyboardHandler=function(){e(document).keydown((function(e){38==e.keyCode&&n.onKeyUp(e,"up"),40==e.keyCode&&n.onKeyUp(e,"down")}))},n.isScrolled=function(t,o){var n=e("#scroller-"+t),i=n.data("iscrollInstance");return!i||("down"===o?0-i.y+n.scrollTop()+1+n.innerHeight()>=n[0].scrollHeight:"up"===o?i.y>=0&&!n.scrollTop():void 0)},n.getEventsPage=function(e){var t=[];return t.y=void 0!==e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x=void 0!==e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,l&&void 0!==e.touches&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t},n.onTouchStart=function(e){f=!0;var t=n.getEventsPage(e);m=t.y},n.onTouchMove=function(t){if(f&&n.preventDefault(t),v)return n.preventDefault(t),!1;var o=n.getEventsPage(t);p=o.y;var l=e(t.target),c=s?".dethemekit-vscroll-temp":".elementor-top-section",a=l.closest(c).attr("id"),d=!1,u=!1,k=!1,g=!1,w=i.scrollTop();if(e(".dethemekit-vscroll-tooltip").hide(),C()&&(a=n.getFirstSection(h)),S()&&(a=n.getLastSection(h)),m>p?g="down":p>m&&(g="up"),a&&h.hasOwnProperty(a))if(u=n.checkPrevSection(h,a),k=n.checkNextSection(h,a),"up"===g&&(d=!k&&h[a].offset<w?a:u),"down"===g&&(d=!u&&h[a].offset>w+5?a:k),d){if(f=!0,r.find(".dethemekit-vscroll-dots, .dethemekit-vscroll-nav-menu").removeClass("dethemekit-vscroll-dots-hide"),!n.isScrolled(a,g))return;Math.abs(m-p)>window.innerHeight/100*15&&n.onAnchorChange(d)}else{f=!1;var y=s?r:e("#"+a);"down"===g?y.offset().top+y.innerHeight()-e(document).scrollTop()>600&&r.find(".dethemekit-vscroll-dots, .dethemekit-vscroll-nav-menu").addClass("dethemekit-vscroll-dots-hide"):"up"===g&&y.offset().top-e(document).scrollTop()>200&&r.find(".dethemekit-vscroll-dots, .dethemekit-vscroll-nav-menu").addClass("dethemekit-vscroll-dots-hide")}else f=!1},n.scrollStop=function(){c.stop(!0)},n.checkNextSection=function(e,t){var o=Object.keys(e),n=o.indexOf(t),i=n+=1;return!(i>=o.length)&&o[i]},n.checkPrevSection=function(e,t){var o=Object.keys(e),n=o.indexOf(t),i=n-=1;return!(0>n)&&o[i]},n.debounce=function(e,t){var o;return function(n){o&&clearTimeout(o),o=setTimeout((function(){t.call(this,n),o=null}),e)}},n.visible=function(e,t,o){var n=e.get(0),l=i.outerHeight(),r=!0!==o||n.offsetWidth*n.offsetHeight;if("function"==typeof n.getBoundingClientRect){var s=n.getBoundingClientRect(),c=s.top>=0&&s.top<l,a=s.bottom>0&&s.bottom<=l,d=t?c||a:c&&a;d=s.top<0&&s.bottom>l||d;return r&&d}var h=0+l,u=i.position().top,v=u+i.height();return!!r&&(!0===t?u:v)<=h&&(!0===t?v:u)>=0},n.onNavDotEnter=function(){var t=e(this),n=t.data("index");o.tooltips&&e('<div class="dethemekit-vscroll-tooltip"><span>'+o.dotsText[n]+"</span></div>").hide().appendTo(t).fadeIn(200)},n.onNavDotLeave=function(){e(".dethemekit-vscroll-tooltip").fadeOut(200,(function(){e(this).remove()}))},n.onNavDotChange=function(t){var n=e(this),i=n.index(),l=n.data("menuanchor"),r=null;if(!h.hasOwnProperty(l))return!1;(r=h[l].offset-o.offset)<0&&(r=h[l].offset),v||(v=!0,u=l,d.removeClass("active"),a.removeClass("active"),n.hasClass("dethemekit-vscroll-nav-item")?e(a[i]).addClass("active"):e(d[i]).addClass("active"),n.addClass("active"),c.stop().clearQueue().animate({scrollTop:r},o.speed,"easeInOutCirc",(function(){v=!1})))},n.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},n.onAnchorChange=function(t){var n=e("[data-menuanchor="+t+"]",r),i=null;if(!h.hasOwnProperty(t))return!1;(i=h[t].offset-o.offset)<0&&(i=h[t].offset),v||(v=!0,o.addToHistory&&window.history.pushState(null,null,"#"+t),u=t,a.removeClass("active"),d.removeClass("active"),n.addClass("active"),c.animate({scrollTop:i},o.speed,"easeInOutCirc",(function(){v=!1})))},n.onKeyUp=function(t,o){1===u&&(u=a.eq(0).data("menuanchor"));o=o||"up";var n=e(".dethemekit-vscroll-dot-item[data-menuanchor="+u+"]",r).next(),i=e(".dethemekit-vscroll-dot-item[data-menuanchor="+u+"]",r).prev();if(t.preventDefault(),v)return!1;"up"===o&&i[0]&&i.trigger("click.dethemekitVerticalScroll"),"down"===o&&n[0]&&n.trigger("click.dethemekitVerticalScroll")},n.onScroll=function(e){v&&e.preventDefault()},n.onWheel=function(t){if(f&&!l&&n.preventDefault(t),v)return!1;var o,c=e(t.target),d=s?".dethemekit-vscroll-temp":".elementor-top-section",u=c.closest(d).attr("id"),m=n.visible(r,!0,!1),p=!1,w=!1,y=!1,T=0>(o=t,o=window.event||o,Math.max(-1,Math.min(1,o.wheelDelta||-o.deltaY||-o.detail)))?"down":"up",b=i.scrollTop(),D=e(".dethemekit-vscroll-dot-item.active").index();if(l&&(e(".dethemekit-vscroll-tooltip").hide(),D!==a.length-1||m?0!==D||m?r.find(".dethemekit-vscroll-dots, .dethemekit-vscroll-nav-menu").removeClass("dethemekit-vscroll-dots-hide"):r.offset().top-e(document).scrollTop()>200&&r.find(".dethemekit-vscroll-dots, .dethemekit-vscroll-nav-menu").addClass("dethemekit-vscroll-dots-hide"):r.find(".dethemekit-vscroll-dots, .dethemekit-vscroll-nav-menu").addClass("dethemekit-vscroll-dots-hide")),C()&&(u=k(h)),S()&&(u=g(h)),u&&h.hasOwnProperty(u))if(w=n.checkPrevSection(h,u),y=n.checkNextSection(h,u),"up"===T&&(p=!y&&h[u].offset<b?u:w),"down"===T&&(p=!w&&h[u].offset>b+5?u:y),p){if(f=!0,!n.isScrolled(u,T)&&!l)return;r.find(".dethemekit-vscroll-dots, .dethemekit-vscroll-nav-menu").removeClass("dethemekit-vscroll-dots-hide"),n.onAnchorChange(p)}else{f=!1;var O=s?r:e("#"+u);"down"===T?O.offset().top+O.innerHeight()-e(document).scrollTop()>600&&r.find(".dethemekit-vscroll-dots, .dethemekit-vscroll-nav-menu").addClass("dethemekit-vscroll-dots-hide"):"up"===T&&r.find(".dethemekit-vscroll-dots, .dethemekit-vscroll-nav-menu").addClass("dethemekit-vscroll-dots-hide")}else f=!1},n.onResize=function(){n.setSectionsData(),n.sectionsOverflowRefresh()}},e(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/dethemekit-vscroll.default",t)}))}(jQuery);